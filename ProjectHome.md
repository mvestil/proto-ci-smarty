prototype for CI with smarty